{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _createStore = require('redux/lib/createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _reducers = require('./reducers');\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _dragDrop = require('./actions/dragDrop');\n\nvar dragDropActions = _interopRequireWildcard(_dragDrop);\n\nvar _DragDropMonitor = require('./DragDropMonitor');\n\nvar _DragDropMonitor2 = _interopRequireDefault(_DragDropMonitor);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar DragDropManager = function () {\n  function DragDropManager(createBackend) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, DragDropManager);\n\n    var store = (0, _createStore2.default)(_reducers2.default);\n    this.context = context;\n    this.store = store;\n    this.monitor = new _DragDropMonitor2.default(store);\n    this.registry = this.monitor.registry;\n    this.backend = createBackend(this);\n    store.subscribe(this.handleRefCountChange.bind(this));\n  }\n\n  _createClass(DragDropManager, [{\n    key: 'handleRefCountChange',\n    value: function handleRefCountChange() {\n      var shouldSetUp = this.store.getState().refCount > 0;\n\n      if (shouldSetUp && !this.isSetUp) {\n        this.backend.setup();\n        this.isSetUp = true;\n      } else if (!shouldSetUp && this.isSetUp) {\n        this.backend.teardown();\n        this.isSetUp = false;\n      }\n    }\n  }, {\n    key: 'getContext',\n    value: function getContext() {\n      return this.context;\n    }\n  }, {\n    key: 'getMonitor',\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: 'getBackend',\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: 'getRegistry',\n    value: function getRegistry() {\n      return this.registry;\n    }\n  }, {\n    key: 'getActions',\n    value: function getActions() {\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      return Object.keys(dragDropActions).filter(function (key) {\n        return typeof dragDropActions[key] === 'function';\n      }).reduce(function (boundActions, key) {\n        var action = dragDropActions[key];\n        boundActions[key] = bindActionCreator(action); // eslint-disable-line no-param-reassign\n\n        return boundActions;\n      }, {});\n    }\n  }]);\n\n  return DragDropManager;\n}();\n\nexports.default = DragDropManager;","map":{"version":3,"sources":["D:/NETRA -P/Netra/netra/node_modules/dnd-core/lib/DragDropManager.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_createStore","require","_createStore2","_interopRequireDefault","_reducers","_reducers2","_dragDrop","dragDropActions","_interopRequireWildcard","_DragDropMonitor","_DragDropMonitor2","obj","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","DragDropManager","createBackend","context","arguments","undefined","store","monitor","registry","backend","subscribe","handleRefCountChange","bind","shouldSetUp","getState","refCount","isSetUp","setup","teardown","getContext","getMonitor","getBackend","getRegistry","getActions","manager","dispatch","bindActionCreator","actionCreator","_len","args","Array","_key","action","apply","keys","filter","reduce","boundActions"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _createStore = require('redux/lib/createStore');\r\n\r\nvar _createStore2 = _interopRequireDefault(_createStore);\r\n\r\nvar _reducers = require('./reducers');\r\n\r\nvar _reducers2 = _interopRequireDefault(_reducers);\r\n\r\nvar _dragDrop = require('./actions/dragDrop');\r\n\r\nvar dragDropActions = _interopRequireWildcard(_dragDrop);\r\n\r\nvar _DragDropMonitor = require('./DragDropMonitor');\r\n\r\nvar _DragDropMonitor2 = _interopRequireDefault(_DragDropMonitor);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar DragDropManager = function () {\r\n\tfunction DragDropManager(createBackend) {\r\n\t\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n\t\t_classCallCheck(this, DragDropManager);\r\n\r\n\t\tvar store = (0, _createStore2.default)(_reducers2.default);\r\n\t\tthis.context = context;\r\n\t\tthis.store = store;\r\n\t\tthis.monitor = new _DragDropMonitor2.default(store);\r\n\t\tthis.registry = this.monitor.registry;\r\n\t\tthis.backend = createBackend(this);\r\n\r\n\t\tstore.subscribe(this.handleRefCountChange.bind(this));\r\n\t}\r\n\r\n\t_createClass(DragDropManager, [{\r\n\t\tkey: 'handleRefCountChange',\r\n\t\tvalue: function handleRefCountChange() {\r\n\t\t\tvar shouldSetUp = this.store.getState().refCount > 0;\r\n\t\t\tif (shouldSetUp && !this.isSetUp) {\r\n\t\t\t\tthis.backend.setup();\r\n\t\t\t\tthis.isSetUp = true;\r\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\r\n\t\t\t\tthis.backend.teardown();\r\n\t\t\t\tthis.isSetUp = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getContext',\r\n\t\tvalue: function getContext() {\r\n\t\t\treturn this.context;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getMonitor',\r\n\t\tvalue: function getMonitor() {\r\n\t\t\treturn this.monitor;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getBackend',\r\n\t\tvalue: function getBackend() {\r\n\t\t\treturn this.backend;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getRegistry',\r\n\t\tvalue: function getRegistry() {\r\n\t\t\treturn this.registry;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getActions',\r\n\t\tvalue: function getActions() {\r\n\t\t\tvar manager = this;\r\n\t\t\tvar dispatch = this.store.dispatch;\r\n\r\n\r\n\t\t\tfunction bindActionCreator(actionCreator) {\r\n\t\t\t\treturn function () {\r\n\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n\t\t\t\t\t\targs[_key] = arguments[_key];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar action = actionCreator.apply(manager, args);\r\n\t\t\t\t\tif (typeof action !== 'undefined') {\r\n\t\t\t\t\t\tdispatch(action);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn Object.keys(dragDropActions).filter(function (key) {\r\n\t\t\t\treturn typeof dragDropActions[key] === 'function';\r\n\t\t\t}).reduce(function (boundActions, key) {\r\n\t\t\t\tvar action = dragDropActions[key];\r\n\t\t\t\tboundActions[key] = bindActionCreator(action); // eslint-disable-line no-param-reassign\r\n\t\t\t\treturn boundActions;\r\n\t\t\t}, {});\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn DragDropManager;\r\n}();\r\n\r\nexports.default = DragDropManager;"]},"metadata":{},"sourceType":"script"}