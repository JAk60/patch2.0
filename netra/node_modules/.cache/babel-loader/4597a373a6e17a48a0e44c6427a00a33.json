{"ast":null,"code":"var _jsxFileName = \"D:\\\\Netraaaa\\\\Netra\\\\netra\\\\src\\\\ui\\\\userSelection\\\\userSelection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport { components } from \"./userSelectionData\";\nimport CustomSelect from \"../Form/CustomSelect\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userActions } from \"../../store/ApplicationVariable\";\nimport { Route } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SelectStyles = makeStyles({\n  spacing: {\n    marginLeft: \"10px\"\n  }\n});\n\nfunction UserSelection(props) {\n  _s();\n\n  UserSelection.defaultProps = {\n    alignment: \"horizontal\",\n    inputWidth: \"200px\"\n  };\n  const [userSelectionData, setUserSelectionData] = useState([]);\n  const [userSelectionEqData, setUserSelectionEqData] = useState([]);\n  const dispatch = useDispatch();\n  const customSelectData = useSelector(state => state.userSelection.userSelection);\n  const currentSelection = useSelector(state => state.userSelection.currentSelection);\n  useEffect(() => {\n    fetch(\"/fetch_user_selection\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      const userData = data[\"data\"];\n      const eqData = data[\"eqData\"];\n      const shipName = userData.map(x => x.shipName);\n      const components = data[\"uniq_eq_data\"];\n      setUserSelectionData(userData);\n      setUserSelectionEqData(eqData);\n      dispatch(userActions.onFirstLoad({\n        filteredData: {\n          shipName: shipName\n        },\n        componentsData: components\n      }));\n    });\n  }, []);\n\n  const handleShipNameChange = e => {\n    const shipName = e.currentTarget.innerText;\n    const category = userSelectionData.filter(x => x.shipName === shipName).map(x => x.shipCategory);\n    const shipClass = userSelectionData.filter(x => x.shipName === shipName).map(x => x.shipClass);\n    const command = userSelectionData.filter(x => x.shipName === shipName).map(x => x.command);\n    const dept = userSelectionData.filter(x => x.shipName === shipName).map(x => x.department);\n    const d = {\n      shipCategory: category,\n      shipClass: shipClass,\n      command: command,\n      department: dept\n    };\n    dispatch(userActions.onChangeLoad({\n      filteredData: d,\n      currentShipName: {\n        shipName: shipName\n      }\n    }));\n  };\n\n  const onShipCategoryChange = e => {\n    let data = e.currentTarget.innerText;\n    data = {\n      shipCategory: data\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n  };\n\n  const onShipClassChange = e => {\n    let data = e.currentTarget.innerText;\n    data = {\n      shipClass: data\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n  };\n\n  const onCommandChange = e => {\n    let data = e.currentTarget.innerText;\n    data = {\n      command: data\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n  };\n\n  const onDepartmentChange = e => {\n    let data = e.currentTarget.innerText;\n    let eqData = userSelectionEqData.filter(x => x.command === currentSelection.command && x.department === data && x.shipName === currentSelection.shipName && x.shipCategory === currentSelection.shipCategory && x.shipName === currentSelection.shipName && x.shipClass === currentSelection.shipClass).map(x => x.equipmentName);\n    data = {\n      department: data\n    };\n    eqData = {\n      equipmentName: eqData\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n    dispatch(userActions.populateEqName({\n      filteredData: eqData\n    }));\n  };\n\n  const onEquipmentChange = e => {\n    let data = e.currentTarget.innerText;\n    data = {\n      equipmentName: data\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n  };\n\n  const onEquipmentCodeChange = e => {\n    let data = e.currentTarget.innerText;\n    data = {\n      equipmentCode: data\n    };\n    dispatch(userActions.onChangeCurrentSelection({\n      selectedData: data\n    }));\n  };\n\n  const SelectClasses = SelectStyles();\n  let colwidth = 4;\n  props.alignment === \"vertical\" ? colwidth = 12 : colwidth = 4;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: colwidth,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: SelectClasses.spacing,\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          style: {\n            width: props.inputWidth\n          },\n          id: \"ship-name\",\n          label: \"Ship Name\",\n          fields: customSelectData[\"shipName\"],\n          onChange: handleShipNameChange,\n          value: currentSelection[\"shipName\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: colwidth,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: SelectClasses.spacing,\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          style: {\n            width: props.inputWidth\n          },\n          id: \"ship-category\",\n          label: \"Ship Category\",\n          fields: customSelectData[\"shipCategory\"],\n          onChange: onShipCategoryChange,\n          value: currentSelection[\"shipCategory\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: colwidth,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: SelectClasses.spacing,\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          style: {\n            width: props.inputWidth\n          },\n          id: \"ship-class\",\n          label: \"Ship Class\",\n          fields: customSelectData[\"shipClass\"],\n          onChange: onShipClassChange,\n          value: currentSelection[\"shipClass\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: colwidth,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: SelectClasses.spacing,\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          style: {\n            width: props.inputWidth\n          },\n          id: \"command\",\n          label: \"Command\",\n          fields: customSelectData[\"command\"],\n          onChange: onCommandChange,\n          value: currentSelection[\"command\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: colwidth,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: SelectClasses.spacing,\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          style: {\n            width: props.inputWidth\n          },\n          id: \"department\",\n          label: \"Department\",\n          fields: customSelectData[\"department\"],\n          onChange: onDepartmentChange,\n          value: currentSelection[\"department\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: [\"/system_config/redundancy_info\", \"/system_config/maintenance_info\", \"/system_config/failure_mode\", \"/system_config/duty_cycle\", \"/system_config/\", \"/data_manager/\", \"/phase_manager/\", \"/HEP/\", \"/maintenance_allocation/\", \"/add_system_doc/\", \"/rul\"],\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: colwidth,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: SelectClasses.spacing,\n          children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n            style: {\n              width: props.inputWidth\n            },\n            id: \"equipment-name\",\n            label: \"Equipment Name\",\n            fields: customSelectData[\"equipmentName\"],\n            onChange: onEquipmentChange,\n            value: currentSelection[\"equipmentName\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserSelection, \"IUu/Nm5Eqy8kQtrl74+Yl/mJgW4=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = UserSelection;\nexport default UserSelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSelection\");","map":{"version":3,"sources":["D:/Netraaaa/Netra/netra/src/ui/userSelection/userSelection.js"],"names":["React","useState","useEffect","Button","Grid","components","CustomSelect","useDispatch","useSelector","userActions","Route","makeStyles","SelectStyles","spacing","marginLeft","UserSelection","props","defaultProps","alignment","inputWidth","userSelectionData","setUserSelectionData","userSelectionEqData","setUserSelectionEqData","dispatch","customSelectData","state","userSelection","currentSelection","fetch","method","headers","Accept","then","res","json","data","userData","eqData","shipName","map","x","onFirstLoad","filteredData","componentsData","handleShipNameChange","e","currentTarget","innerText","category","filter","shipCategory","shipClass","command","dept","department","d","onChangeLoad","currentShipName","onShipCategoryChange","onChangeCurrentSelection","selectedData","onShipClassChange","onCommandChange","onDepartmentChange","equipmentName","populateEqName","onEquipmentChange","onEquipmentCodeChange","equipmentCode","SelectClasses","colwidth","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Button, Grid } from \"@material-ui/core\";\r\nimport { components } from \"./userSelectionData\";\r\nimport CustomSelect from \"../Form/CustomSelect\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userActions } from \"../../store/ApplicationVariable\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst SelectStyles = makeStyles({\r\n  spacing: {\r\n    marginLeft: \"10px\",\r\n  },\r\n});\r\n\r\nfunction UserSelection(props) {\r\n  UserSelection.defaultProps = {\r\n    alignment:\"horizontal\",\r\n    inputWidth:\"200px\"\r\n  }\r\n  const [userSelectionData, setUserSelectionData] = useState([]);\r\n  const [userSelectionEqData, setUserSelectionEqData] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const customSelectData = useSelector(\r\n    (state) => state.userSelection.userSelection\r\n  );\r\n  const currentSelection = useSelector(\r\n    (state) => state.userSelection.currentSelection\r\n  );\r\n  useEffect(() => {\r\n    fetch(\"/fetch_user_selection\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        const userData = data[\"data\"];\r\n        const eqData = data[\"eqData\"];\r\n        const shipName = userData.map((x) => x.shipName);\r\n        const components = data[\"uniq_eq_data\"];\r\n        setUserSelectionData(userData);\r\n        setUserSelectionEqData(eqData);\r\n        dispatch(\r\n          userActions.onFirstLoad({\r\n            filteredData: { shipName: shipName },\r\n            componentsData: components,\r\n          })\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  const handleShipNameChange = (e) => {\r\n    const shipName = e.currentTarget.innerText;\r\n    const category = userSelectionData\r\n      .filter((x) => x.shipName === shipName)\r\n      .map((x) => x.shipCategory);\r\n    const shipClass = userSelectionData\r\n      .filter((x) => x.shipName === shipName)\r\n      .map((x) => x.shipClass);\r\n    const command = userSelectionData\r\n      .filter((x) => x.shipName === shipName)\r\n      .map((x) => x.command);\r\n    const dept = userSelectionData\r\n      .filter((x) => x.shipName === shipName)\r\n      .map((x) => x.department);\r\n    const d = {\r\n      shipCategory: category,\r\n      shipClass: shipClass,\r\n      command: command,\r\n      department: dept,\r\n    };\r\n    dispatch(\r\n      userActions.onChangeLoad({\r\n        filteredData: d,\r\n        currentShipName: { shipName: shipName },\r\n      })\r\n    );\r\n  };\r\n\r\n  const onShipCategoryChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    data = { shipCategory: data };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n  };\r\n\r\n  const onShipClassChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    data = { shipClass: data };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n  };\r\n\r\n  const onCommandChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    data = { command: data };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n  };\r\n\r\n  const onDepartmentChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    let eqData = userSelectionEqData\r\n      .filter(\r\n        (x) =>\r\n          x.command === currentSelection.command &&\r\n          x.department === data &&\r\n          x.shipName === currentSelection.shipName &&\r\n          x.shipCategory === currentSelection.shipCategory &&\r\n          x.shipName === currentSelection.shipName &&\r\n          x.shipClass === currentSelection.shipClass\r\n      )\r\n      .map((x) => x.equipmentName);\r\n    data = { department: data };\r\n    eqData = { equipmentName: eqData };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n    dispatch(userActions.populateEqName({ filteredData: eqData }));\r\n  };\r\n  const onEquipmentChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    data = { equipmentName: data };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n  };\r\n  const onEquipmentCodeChange = (e) => {\r\n    let data = e.currentTarget.innerText;\r\n    data = { equipmentCode: data };\r\n    dispatch(userActions.onChangeCurrentSelection({ selectedData: data }));\r\n  };\r\n  const SelectClasses = SelectStyles();\r\n  let colwidth=4\r\n  props.alignment===\"vertical\"?colwidth=12:colwidth=4\r\n  \r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={colwidth}>\r\n        <div className={SelectClasses.spacing}>\r\n          <CustomSelect\r\n            style={{ width: props.inputWidth }}\r\n            id=\"ship-name\"\r\n            label=\"Ship Name\"\r\n            fields={customSelectData[\"shipName\"]}\r\n            onChange={handleShipNameChange}\r\n            value={currentSelection[\"shipName\"]}\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Grid item xs={colwidth}>\r\n        <div className={SelectClasses.spacing}>\r\n          <CustomSelect\r\n            style={{ width: props.inputWidth }}\r\n            id=\"ship-category\"\r\n            label=\"Ship Category\"\r\n            fields={customSelectData[\"shipCategory\"]}\r\n            onChange={onShipCategoryChange}\r\n            value={currentSelection[\"shipCategory\"]}\r\n\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Grid item xs={colwidth}>\r\n        <div className={SelectClasses.spacing}>\r\n          <CustomSelect\r\n            style={{ width: props.inputWidth }}\r\n            id=\"ship-class\"\r\n            label=\"Ship Class\"\r\n            fields={customSelectData[\"shipClass\"]}\r\n            onChange={onShipClassChange}\r\n            value={currentSelection[\"shipClass\"]}\r\n\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Grid item xs={colwidth}>\r\n        <div className={SelectClasses.spacing}>\r\n          <CustomSelect\r\n            style={{ width: props.inputWidth }}\r\n            id=\"command\"\r\n            label=\"Command\"\r\n            fields={customSelectData[\"command\"]}\r\n            onChange={onCommandChange}\r\n            value={currentSelection[\"command\"]}\r\n\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Grid item xs={colwidth}>\r\n        <div className={SelectClasses.spacing}>\r\n          <CustomSelect\r\n            style={{ width: props.inputWidth }}\r\n            id=\"department\"\r\n            label=\"Department\"\r\n            fields={customSelectData[\"department\"]}\r\n            onChange={onDepartmentChange}\r\n            value={currentSelection[\"department\"]}\r\n\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Route\r\n        path={[\r\n          \"/system_config/redundancy_info\",\r\n          \"/system_config/maintenance_info\",\r\n          \"/system_config/failure_mode\",\r\n          \"/system_config/duty_cycle\",\r\n          \"/system_config/\",\r\n          \"/data_manager/\",\r\n          \"/phase_manager/\",\r\n          \"/HEP/\",\r\n          \"/maintenance_allocation/\",\r\n          \"/add_system_doc/\",\r\n          \"/rul\"\r\n          \r\n        ]}\r\n      >\r\n        <Grid item xs={colwidth}>\r\n          <div className={SelectClasses.spacing}>\r\n            <CustomSelect\r\n              style={{ width: props.inputWidth}}\r\n              id=\"equipment-name\"\r\n              label=\"Equipment Name\"\r\n              fields={customSelectData[\"equipmentName\"]}\r\n              onChange={onEquipmentChange}\r\n              value={currentSelection[\"equipmentName\"]}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </Route>\r\n    </Grid>\r\n  );\r\n}\r\nexport default UserSelection;\r\n"]},"metadata":{},"sourceType":"module"}